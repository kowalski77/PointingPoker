@inherits CreateSessionBase

<h2>Hello, poker player!</h2>

<p>Create a new session or join an existing one...</p>

<Validations @ref="Validations" Mode="ValidationMode.Manual">
    <Row>
        <Column ColumnSize="ColumnSize.Is3">
            <Field>
                <Validation Validator="@ValidationRule.IsNotEmpty">
                    <TextEdit Placeholder="Name" @bind-text="this.PlayerName">
                        <Feedback>
                            <ValidationError>Enter you name</ValidationError>
                        </Feedback>
                    </TextEdit>
                </Validation>
            </Field>
        </Column>
    </Row>
    <Row>
        <Column ColumnSize="ColumnSize.Is3">
            <Field>
                <Check TValue="bool" @bind-Checked="@this.IsModerator">Join as Moderator</Check>
            </Field>
        </Column>
    </Row>
    <Row>
        <Column ColumnSize="ColumnSize.Is3">
            @if (this.IsModerator)
            {
                <Button Color="Color.Primary" Block Clicked="()=> this.OnCreateSessionClickAsync()">Create</Button>
            }
            else
            {
                <Addons>
                    <Addon AddonType="AddonType.Body">
                        <NumericEdit Value="@this.SessionNumber" 
                        Placeholder="Session number..." EnableStep="false" />
                    </Addon>
                    <Addon AddonType="AddonType.End">
                        <Button Color="Color.Primary">Join</Button>
                    </Addon>
                </Addons>
            }
        </Column>
    </Row>
</Validations>
<Row>
    <Column ColumnSize="ColumnSize.Is7">
        @if (this.IsModerator)
        {
            <div style="margin-top: 25px;">
                @foreach (var point in this.PointsCollection)
                {
                    <Check TValue="bool" @bind-Checked="@point.IsChecked">@point.Display</Check>
                }
            </div>
        }
        else
        {
            <div style="margin-top: 25px;">
                <Figure Size="FigureSize.Is256x256">
                    <FigureImage Source="_content/PointingPoker.Razor/img/poker.png" AlternateText="poker cards" />
                </Figure>
            </div>
        }
    </Column>
</Row>